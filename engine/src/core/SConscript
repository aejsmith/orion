Import('env')

objects = map(env.Object, [
    'data_stream.cc',
    'error.cc',
    'filesystem.cc',
    'hash.cc',
    'json_serialiser.cc',
    'log.cc',
    'object.cc',
    'path.cc',
    'pixel_format.cc',
    'refcounted.cc',
    'serialiser.cc',
    'string.cc',
])

objects += SConscript(dirs = [
    'math',
])

if env['PLATFORM'] in ['linux']:
    objects += SConscript(dirs = ['posix'])

Return('objects')
