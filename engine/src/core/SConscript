import os
import util

Import('env')

objects = map(env.Object, [
    'data_stream.cc',
    'error.cc',
    'filesystem.cc',
    'hash.cc',
    'json_serialiser.cc',
    'log.cc',
    'object.cc',
    'path.cc',
    'pixel_format.cc',
    'refcounted.cc',
    'serialiser.cc',
    'string.cc',
])

objects += SConscript(dirs = [
    'math',
])

if os.name == 'posix':
    objects += SConscript(dirs = ['posix'])
else:
    util.StopError('Unsupported platform')

Return('objects')
